const translations = {
    en: {
        // Navigation
        home: "Home",
        rewards: "Rewards",
        leaderboard: "Leaderboard",
        profile: "Profile",

        // Hero Section
        heroTitle: "Make Delhi Clean & Green",
        heroSubtitle: "Join our mission to create a waste-free Delhi through fun challenges and rewards!",
        startJourney: "Start Your Journey",

        // Rewards Section
        earnRewards: "Earn Exciting Rewards",
        rewardsDescription: "Turn your eco-friendly actions into amazing rewards!",
        greenPoints: "Green Points",
        pointsAction: "Earn points for every eco-friendly action",
        specialBadges: "Special Badges",
        badgesDescription: "Unlock achievements and showcase your progress",
        exclusiveVouchers: "Exclusive Vouchers",
        vouchersDescription: "Redeem points for eco-friendly products",

        // Waste Tracker
        trackImpact: "Track Your Impact",
        logWaste: "Log Your Waste Reduction",
        selectWaste: "Select Waste Type",
        wasteAmount: "Amount in kg",
        logActivity: "Log Activity",
        yourImpact: "Your Impact",
        wasteReduced: "kg Waste Reduced",
        treesSaved: "Trees Saved",

        // Challenges
        weeklyChallenge: "Weekly Challenges",
        noPlastic: "No Plastic Week",
        challengeDesc: "Avoid single-use plastics for a week",
        joinChallenge: "Join Challenge",

        // Authentication
        login: "Login",
        signup: "Sign Up",
        welcomeBack: "Welcome Back!",
        createAccount: "Create Account",
        email: "Email",
        password: "Password",
        confirmPassword: "Confirm Password",
        rememberMe: "Remember me",
        forgotPassword: "Forgot your password?",
        continueWith: "Or continue with",

        // New translations
        siteTitle: "Zero Waste Delhi",
        segregatedWastePoints: "50 points per kg of segregated waste",
        electronicWastePoints: "100 points for electronic waste",
        recyclingPoints: "75 points for proper recycling",
        pointsEarned: "points earned",
        wasteTypes: "Waste Types",
        plastic: "Plastic",
        paper: "Paper",
        organic: "Organic",
        electronic: "Electronic",
        yourPosition: "Your Position",
        pointsToNext: "points to next rank",
        quickLinks: "Quick Links",
        resources: "Resources",
        contactUs: "Contact Us",
        wasteManagementGuide: "Waste Management Guide",
        recyclingCenters: "Recycling Centers",
        communityEvents: "Community Events",
        educationalMaterials: "Educational Materials",
        copyright: "© 2024 Zero Waste Delhi. All rights reserved.",
        partnerDiscounts: "Partner Discounts",
        specialOffers: "Special offers from eco-friendly stores",
        offAllItems: "off on all items",
        shoppingVoucher: "shopping voucher",
        howToEarn: "How to Earn Points",
        wasteSegregation: "Waste Segregation",
        ewasteDisposal: "E-waste Disposal",
        referFriends: "Refer Friends",
        dailyCheckin: "Daily Check-in",
        perKg: "per kg",
        perItem: "per item",
        perReferral: "per referral",
        perDay: "per day",

        // Additional translations
        greenStarter: "Green Starter",
        ecoWarrior: "Eco Warrior",
        wasteMaster: "Waste Master",
        viewAllBadges: "View All Badges",
        discount200: "₹200 Off",
        onEcoProducts: "on Eco-friendly Products",
        redeem: "Redeem",
        pointsPerKg: "points per kg",
        topChampions: "Top Environmental Champions",
        weekly: "Weekly",
        monthly: "Monthly",
        allTime: "All Time",
        footerDescription: "Making Delhi cleaner and greener through community action and sustainable practices",
        freePlant: "Free Plant",
        atGreenEarth: "at Green Earth Nursery",
        greenStore: "Green Store",
        ecoMarket: "Eco Market",
        shoppingVoucherAmount: "₹500 shopping voucher",
        percentOff: "20% off on all items",
        you: "You",
        kgSaved: "kg saved",
        rank: "Rank",
        smartBinChampion: "Smart Bin Champion",
        wasteStatistics: "Waste Statistics",
        points: "Points",

        // Dashboard
        welcomeBack: "Welcome back",
        totalPoints: "Total Points",
        kgWasteSaved: "kg Waste Saved",
        ranking: "Ranking",
        settings: "Settings",
        logout: "Logout",
        smartBinChampion: "Smart Bin Champion",
        rank: "Rank",
        stats: "Statistics",
        points: "Points"
    },
    hi: {
        // Navigation & Basic
        siteTitle: "जीरो वेस्ट दिल्ली",
        home: "होम",
        rewards: "पुरस्कार",
        leaderboard: "लीडरबोर्ड",
        profile: "प्रोफाइल",
        amountInKg: "मात्रा (किलोग्राम में)",

        // Hero Section
        heroTitle: "दिल्ली को स्वच्छ और हरा-भरा बनाएं",
        heroSubtitle: "मजेदार चुनौतियों और पुरस्कारों के माध्यम से कचरा मुक्त दिल्ली बनाने के हमारे मिशन में शामिल हों!",
        startJourney: "यात्रा शुरू करें",

        // Rewards Section
        earnRewards: "रोमांचक पुरस्कार जीतें",
        rewardsDescription: "अपनी पर्यावरण अनुकूल कार्रवाइयों को शानदार पुरस्कारों में बदलें!",
        greenPoints: "ग्रीन पॉइंट्स",
        pointsAction: "हर पर्यावरण अनुकूल कार्य के लिए पॉइंट्स कमाएं",
        specialBadges: "विशेष बैज",
        badgesDescription: "उपलब्धियां अनलॉक करें और अपनी प्रगति दिखाएं",
        exclusiveVouchers: "विशेष वाउचर",
        vouchersDescription: "पर्यावरण अनुकूल उत्पादों के लिए पॉइंट्स रिडीम करें",

        // Points and Rewards
        pointsRequired: "आवश्यक पॉइंट्स",
        pointsEarned: "अर्जित पॉइंट्स",
        pointsPerKg: "पॉइंट्स प्रति किलो",
        pointsPerItem: "पॉइंट्स प्रति वस्तु",
        pointsPerReferral: "पॉइंट्स प्रति रेफरल",
        pointsPerDay: "पॉइंट्स प्रति दिन",
        redeem: "रिडीम करें",

        // Waste Types
        selectWaste: "कचरे का प्रकार चुनें",
        plastic: "प्लास्टिक",
        paper: "कागज",
        organic: "जैविक",
        electronic: "इलेक्ट्रॉनिक",
        wasteTypes: "कचरे के प्रकार",

        // Impact Tracking
        trackImpact: "अपना प्रभाव ट्रैक करें",
        logWaste: "अपना कचरा कम करने का लॉग करें",
        yourImpact: "आपका प्रभाव",
        wasteReduced: "किलो कचरा कम किया",
        treesSaved: "बचाए गए पेड़",

        // Methods
        wasteSegregation: "कचरा पृथक्करण",
        ewasteDisposal: "ई-कचरा निपटान",
        referFriends: "मित्रों को आमंत्रित करें",
        dailyCheckin: "दैनिक चेक-इन",

        // Challenges
        weeklyChallenge: "साप्ताहिक चुनौतियां",
        noPlastic: "नो प्लास्टिक वीक",
        challengeDesc: "एक सप्ताह तक सिंगल-यूज प्लास्टिक से बचें",
        joinChallenge: "चुनौती में शामिल हों",

        // Partners and Stores
        greenStore: "ग्रीन स्टोर",
        offAllItems: "सभी वस्तुओं पर छूट",
        freePlant: "मुफ्त पौधा",
        atGreenEarth: "ग्रीन अर्थ नर्सरी में",

        // Footer Sections
        quickLinks: "त्वरित लिंक्स",
        resources: "संसाधन",
        wasteManagementGuide: "कचरा प्रबंधन गाइड",
        recyclingCenters: "रीसाइक्लिंग केंद्र",
        communityEvents: "सामुदायिक कार्यक्रम",
        educationalMaterials: "शैक्षिक सामग्री",
        contactUs: "संपर्क करें",
        copyright: "© 2024 जीरो वेस्ट दिल्ली। सर्वाधिकार सुरक्षित।",

        // Leaderboard
        topChampions: "शीर्ष पर्यावरण चैंपियंस",
        weekly: "साप्ताहिक",
        monthly: "मासिक",
        allTime: "सर्वकालिक",
        yourPosition: "आपकी स्थिति",
        pointsToNext: "अगले रैंक तक के पॉइंट्स",

        // Authentication
        login: "लॉग इन",
        signup: "साइन अप",
        welcomeBack: "वापसी पर स्वागत है!",
        createAccount: "खाता बनाएं",
        email: "ईमेल",
        password: "पासवर्ड",
        confirmPassword: "पासवर्ड की पुष्टि करें",
        rememberMe: "मुझे याद रखें",
        forgotPassword: "पासवर्ड भूल गए?",
        continueWith: "या इसके साथ जारी रखें",

        // Dashboard
        welcomeBack: "वापस स्वागत है",
        totalPoints: "कुल अंक",
        kgWasteSaved: "किलोग्राम कचरा बचाया",
        ranking: "रैंकिंग",
        settings: "सेटिंग्स",
        logout: "लॉग आउट",
        smartBinChampion: "स्मार्ट बिन चैंपियन",
        rank: "रैंक",
        stats: "आंकड़े",
        points: "अंक"
    }
};

class LanguageManager {
    constructor() {
        this.currentLang = 'en';
        this.initializeLanguage();
    }

    initializeLanguage() {
        // Set up language switcher
        const langSwitcher = document.querySelector('.language-switcher');
        if (langSwitcher) {
            langSwitcher.addEventListener('click', (e) => {
                if (e.target.closest('a[data-lang]')) {
                    e.preventDefault();
                    const newLang = e.target.closest('a[data-lang]').dataset.lang;
                    this.switchLanguage(newLang);
                }
            });
        }

        // Initialize with saved language or default
        const savedLang = localStorage.getItem('preferredLanguage');
        if (savedLang) {
            this.switchLanguage(savedLang);
        }
    }

    switchLanguage(lang) {
        this.currentLang = lang;
        localStorage.setItem('preferredLanguage', lang);

        // Update active state in dropdown
        document.querySelectorAll('.language-dropdown a').forEach(a => {
            a.classList.toggle('active', a.dataset.lang === lang);
        });

        // Update current language display
        const currentLangDisplay = document.querySelector('.current-lang');
        if (currentLangDisplay) {
            currentLangDisplay.textContent = lang.toUpperCase();
        }

        // Update all translatable elements
        this.updateContent();
    }

    updateContent() {
        // Update text content
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.dataset.translate;
            if (translations[this.currentLang][key]) {
                if (element.innerHTML.includes('<')) {
                    const template = element.innerHTML;
                    const translatedText = translations[this.currentLang][key];
                    element.innerHTML = template.replace(/>([^<]+)</g, 
                        (match, text) => `>${translatedText}<`);
                } else {
                    element.textContent = translations[this.currentLang][key];
                }
            }
        });

        // Update placeholders
        const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.dataset.translatePlaceholder;
            if (translations[this.currentLang][key]) {
                element.placeholder = translations[this.currentLang][key];
            }
        });

        // Update document title
        document.title = `${translations[this.currentLang].siteTitle} - ${translations[this.currentLang].heroTitle}`;
    }

    getText(key) {
        return translations[this.currentLang][key] || key;
    }
} 